---
title: "Presentation Ninja"
subtitle: "⚔<br/>with xaringan"
author: "Yihui Xie"
institute: "RStudio, PBC"
translators: "Silvia Canelón, Alejandra Hernandez Segura y Rocío Joo"
date: "2016/12/12 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

background-image: url(https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg)

```{r configuracion, include=FALSE}
options(htmltools.dir.version = FALSE)
```

???

Credito de imagen: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Sharingan_triple.svg)

---
class: center, middle

# xaringan

### /ʃaː.'riŋ.ɡan/

---
class: inverse, center, middle

# Comenzar

---

# Hola Mundo

Instala el paquete **xaringan** de [Github](https://github.com/yihui/xaringan):

```{r eval=FALSE, tidy=FALSE}
remotes::install_github("yihui/xaringan")
```

--

Se recomienda utilizar el ambiente de desarrollo (o IDE, por su sigla en inglés: Integrated Development Environment) de [RStudio](https://www.rstudio.com/products/rstudio/), pero no es necesario.

- Crea un nuevo documento de R Markdown desde el menu `File -> New File -> R Markdown -> From Template -> Ninja Presentation`;<sup>1</sup>

--

- Haga clic en el botón `Knit` para compilarlo;

--

- o utiliza el [Addin de RStudio](https://rstudio.github.io/rstudioaddins/)<sup>2</sup> "Infinite Moon Reader" para obtener una vista previa de las diapositivas (cada vez que actualizas y guardas en documento Rmd, las diapositivas serán automaticamente recargadas en el panel RStudio Viewer).

.footnote[
[1] 中文用户请看[这份教程](https://slides.yihui.org/xaringan/zh-CN.html). Usuarios hispanohablantes, por favor vean [este tutorial](https://slides.yihui.org/xaringan/ES.html)

[2] Vean [#2](https://github.com/yihui/xaringan/issues/2) si no ven la plantilla o el "addin" en RStudio.
]

---
background-image: url(`r xaringan:::karl`)
background-position: 50% 50%
class: center, bottom, inverse

# ¡Solo se vive una vez!

---

# Hola Ninja

Como un ninja de presentación, seguramente no deberías quedar satisfecho/a con el ejemplo de "Hola Mundo." Necesitas entender más sobre dos cosas:

1. La librería [remark.js](https://remarkjs.com);

1. El paquete **xaringan**;

Basicamente **xaringan** inyectó el chakra de R Markdown (menos Pandoc) a **remark.js**. Las diapositivas son procesadas por remark.js en el navegador web y la fuente de Markdown que necesita remark.js se genera a través de R Markdown (**knitr**).

---

# remark.js

Puede ver una introducción de remark.js en su [página de inicio](https://remarkjs.com). Debería leer el [remark.js Wiki](https://github.com/gnab/remark/wiki) al menos una vez para saber como

- crear una nueva diapositiva (sintaxis de Markdown<sup>*</sup> y propiedades de la diapositiva);

- formatear una diapositiva (p.ej. alineamiento de texto);

- configurar la presentación;

- y usar la presentación (atajos de teclado).

Es importante estar familiarizado/a con remark.js antes de poder entender las opciones en **xaringan**.

.footnote[[*] ¡Es diferente con Markdown de Pandoc! Es limitado pero debería ser suficiente para fines de presentaciones. Vamos... ¡No necesita una diapositiva para la Tabla de Contenidos! Bueno, el apoyo de Markdown en remark.js [puede mejorarse](https://github.com/gnab/remark/issues/142) en el futuro.]

---
background-image: url(`r xaringan:::karl`)
background-size: cover
class: center, bottom, inverse

# ¡Estaba tan feliz de haber descubierto remark.js!

---
class: inverse, middle, center

# Usando xaringan

---

# xaringan

Proporciona un formato de salida `xaringan::moon_reader` como envoltorio para remark.js, y puede usarlo en los metadatos YAML, p.ej.

```yaml
---
title: "Una Presentación Genial"
output:
  xaringan::moon_reader:
    yolo: true
    nature:
      autoplay: 30000
---
```

Consulte la página de ayuda `?xaringan::moon_reader` para conocer todas las opciones posibles que puede usar.

---

# remark.js vs xaringan

Algunas diferencias entre usar remark.js (izquerda) y usando **xaringan** (derecha):

.pull-left[
1. Comience con un archivo HTML estándar;

1. Markdown sencillo;

1. Escribe JavaScript para reproducir automáticamente las diapositivas;

1. Configue manualmente MathJax;

1. Resalte el código con `*`;

1. Edite la fuente de Markdown y actualice el navegador web para ver las diapositivas actualizadas;
]

.pull-right[
1. Comience con un documento R Markdown;

1. R Markdown (puede incrustar R/otros bloques de código)

1. Proporcione una opción `autoplay`;

1. MathJax simplemente funciona;<sup>*</sup>

1. Resalte el código con `{{}}`;

1. El "addin" "Infinite Moon Reader" de RStudio actualiza las diapositivas con cada cambio;
]

.footnote[[*] En realidad, no. Consulte la siguiente página.]

---

# Expresiones Matemáticas

Puedes escribir expresiones matemáticas de LaTeX dentro de un par de signos de dólar, e.g. &#36;\alpha+\beta$ produce $\alpha+\beta$. Puedes usar el modo display con doble signo dólar:

```
$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$
```

$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$

Limitaciones:

1. El código fuente de una expresión matemática de LaTeX debe estar en una sola línea, a menos que esté dentro de un par de doble signos de dólar, en cuyo caso el `$$` inicial debe aparecer al inicio de la línea, seguido inmediatamente de un caracter que no sea un espacio, y el `$$` final debe estar al final de la línea, precedido por un caracter que no sea un espacio.

1. No deben haber espacios después del `$` de apertura or antes del `$` de cierre.

1. Las matemáticas no funcionan en el título de la diapositiva (ver una alternativa en [#61](https://github.com/yihui/xaringan/issues/61)).

---

# Código R

```{r comment='#'}
# una regresión aburrida
fit = lm(dist ~ 1 + speed, data = cars)
coef(summary(fit))
dojutsu = c('地爆天星', '天照', '加具土命', '神威', '須佐能乎', '無限月読')
grep('天', dojutsu, value = TRUE)
```

---

# R Plots

```{r cars, fig.height=4, dev='svg'}
par(mar = c(4, 4, 1, .1))
plot(cars, pch = 19, col = 'darkgray', las = 1)
abline(fit, lwd = 2)
```

---

# Tablas

Si quiere generar una tabla, asegúrese de que esté en formato HTML (en vez de Markdown u otro formato), p.ej.

```{r}
knitr::kable(head(iris), format = 'html')
```

---

# HTML Widgets

No he probado exhaustivamente los HTML widgets en **xaringan**. Puede que algunos funcionen bien y puede que otros no tanto. Es un poco complicado.

Igualmente, el modo Shiny (`runtime: shiny`) no functiona. Puede que arregle estos problemas en el futuro, pero por ahora no son de gran prioridad para mí. Yo nunca convierto mi presentación en una Shiny app. Cuando necesito mostrar ejemplos más complicados, simplemente inicio Xaringan y Shiny independientemente. Es más fácil compartir diapositivas con otra gente cuando son simples aplicaciones HTML/JS.  

Mira las siguientes páginas con dos ejemplos de HTML widgets.

---

```{r out.width='100%', fig.height=6, eval=require('leaflet')}
library(leaflet)
leaflet() %>% addTiles() %>% setView(-93.65, 42.0285, zoom = 17)
```

---

```{r eval=require('DT'), tidy=FALSE}
DT::datatable(
  head(iris, 10),
  fillContainer = FALSE, options = list(pageLength = 8)
)
```

---

# Algunos Consejos

- No olvides probar la opción `yolo` de `xaringan::moon_reader`.

    ```yaml
    output:
      xaringan::moon_reader:
        yolo: true
    ```

---

# Algunos Consejos

- Las diapositivas se pueden reproducir automáticamente si configuras la opción `autoplay` bajo `nature`, e.g. ir a la siguiente diapositiva cada 30 segundos en una charla relámpago:

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          autoplay: 30000
    ```

- Si quieres reiniciar la reproducción después de llegar a la última diapositiva, puedes deinir la sub-opción `loop` como TRUE, e.g.,

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          autoplay:
            interval: 30000
            loop: true
    ```

---

# Algunos Consejos

- Un temporizador de cuenta regresiva puede ser añadido a cada página de las diapositivas usando la opción `countdown` bajo `nature`, e.g. si quieres pasar un minuto en cada página cuando das una charla, puedes configurar:

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          countdown: 60000
    ```

    Entonces verás un temporizador contando hacia atrás desde `01:00`, a `00:59`, `00:58`, ... Cuando el tiempo se acabe, el temporizador continuará pero el tiempo se mostrará en rojo. 
    
---

# Algunos consejos

- La diapositiva titular es creada automaticamente por **xaringan**, pero es simplemente otra diapositiva remark.js que se agrega antes de las otras diapositivas. 

    La diapositiva titular se establece en `class: center, middle, inverse, title-slide` de manera predeterminada. Puede cambiar las clases de la diapositiva titular con la opción `titleSlideClass` de `nature` (`title-slide` siempre se aplica).

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          titleSlideClass: [top, left, inverse]
    ```
    
--

- Si quiere crear su propia diapositiva titular, desactiva la diapositiva titular de **xaringan** con la opción `seal = FALSE` de `moon_reader`.

    ```yaml
    output:
      xaringan::moon_reader:
        seal: false
    ```

---

# Algunos consejos

- Existen varias maneras de construir diapositivas incrementales. Consulte [esta presentación](https://slides.yihui.org/xaringan/incremental.html) para ver ejemplos.

- La opción `highlightLines: true` de `nature` resaltará las líneas de código que comienzan con `*`, o que están envueltas en `{{ }}`, o tienen comentarios **_"trailing"_** `#<<`;

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          highlightLines: true
    ```

    Vea ejemplos en la página siguiente.

---

# Algunos consejos


.pull-left[
Un ejemplo usando un `*` inicial:

    ```r
    if (TRUE) {
    ** message("¡Muy importante!")
    }
    ```
Salida:
```r
if (TRUE) {
* message("¡Muy importante!")
}
```

Este es un código R inválido, por lo tanto es un bloque sencillo de código delimitado que no se ejecuta.
]

.pull-right[
Un ejemplo usando `{{}}`:

````
`r ''````{r tidy=FALSE}
if (TRUE) {
*{{ message("¡Muy importante!") }}
}
```
````
Salida:
```{r tidy=FALSE}
if (TRUE) {
{{ message("¡Muy importante!") }}
}
```

Este es un código R válido asi que lo puede ejecutar. Tenga en cuenta que `{{}}` puede envolver una expresión de R de varias líneas.
]

---

# Algunos consejos

Un ejemplo de usar el comentario **_trailing_** `#<<` para resaltar líneas:

````markdown
`r ''````{r tidy=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```
````

Salida:

```{r tidy=FALSE, eval=FALSE}
library(ggplot2)
ggplot(mtcars) + 
  aes(mpg, disp) + 
  geom_point() +   #<<
  geom_smooth()    #<<
```

---

# Algunos consejos

Cuando habilite "line-highlighting," tambien puede usar la opción de bloque `highlight.output` para resaltar líneas específicas de la salida de texto de un bloque de código. Por ejemplo, `highlight.output = TRUE` significa resaltar todas las líneas, and `highlight.output = c(1,3)` significa resaltar la primera y la tercera línea.

````md
`r ''````{r, highlight.output=c(1, 3)}
head(iris)
```
````

```{r, highlight.output=c(1, 3), echo=FALSE}
head(iris)
```

Pregunta: ¿qué significa `highlight.output = c(TRUE, FALSE)? (Sugerencia: piensa en el reciclaje de los vectores en R)

---

# Algunos consejos

- Para que tus diapositivas funcionen fuera de línea, necesitas descargar una copia de remark.js con antelación, porque **xaringan** usa la versión en línea por defecto (ver la página de ayuda `?xaringan::moon_reader`).

- Puedes usar `xaringan::summon_remark()` para descargar la última versión o alguna versión específica de remark.js. Por defecto, se descarga en  `libs/remark-latest.min.js`.

- Luego cambia la opción `chakra` en YAML para señalar a ese archivo, e.g.

    ```yaml
    output:
      xaringan::moon_reader:
        chakra: libs/remark-latest.min.js
    ```

- Si usaste tipos de letra de Google en las diapositivas (el tema por defecto usa _Yanone Kaffeesatz_, _Droid Serif_, y _Source Code Pro_), no funcionarán fuera de línea a menos que los descargues o instales localmente. La app Heroku [google-webfonts-helper](https://google-webfonts-helper.herokuapp.com/fonts) puede ayudar a descargar tipos de letra y generar los CSS necesarios.

---

# Macros

- remark.js [permite a les usuaries definir macros personalizadas](https://github.com/yihui/xaringan/issues/80) (funciones JS) que se pueden aplicar al texto Markdown usando la sintaxis `![:macroName arg1, arg2, ...]` o `![:macroName arg1, arg2, ...](this)`. Por ejemplo, antes de que remark.js inicialice las diapositivas, puedes definir una macro llamada `scale`:

    ```js
    remark.macros.scale = function (percentage) {
      var url = this;
      return '<img src="' + url + '" style="width: ' + percentage + '" />';
    };
    ```

    Entonces el texto Markdown

    ```markdown
    ![:scale 50%](image.jpg)
    ```

    será traducido a
    
    ```html
    <img src="image.jpg" style="width: 50%" />
    ```

---

# Macros (continuación)

- Para insertar macros en diapositivas **xaringan**, puedes usar la opción `beforeInit` bajo la opción `nature`, e.g.,

    ```yaml
    output:
      xaringan::moon_reader:
        nature:
          beforeInit: "macros.js"
    ```

    Guardas tu macros remark.js en el archivo `macros.js`.

- La opción `beforeInit` puede ser usada para insertar código JS arbitrario antes de `remark.create()`. Insertar macros is solo una de sus posibles aplicaciones. 

---

# CSS

Dentro de todas las opciones en `xaringan::moon_reader`, la más compleja pero quizás también la más gratificante es `css`. Esta opción te permite personalizar la apariencia de tus diapositivas usando cualquier regla o truco CSS que sepas.  

Puedes mirar el archivo CSS predeterminado [aquí](https://github.com/yihui/xaringan/blob/master/inst/rmarkdown/templates/xaringan/resources/default.css). Puedes reemplazarlo completamente con tus propios archivos CSS, o puedes definir nuevas reglas que invaliden a las predeterminadas. Mira la página de ayuda de `?xaringan::moon_reader` para más información.

---

# CSS

Por ejemplo, supongamos que quieres cambiar la fuente de tu código de la predeterminada "Source Code Pro" a "Ubuntu Mono". Puedes crear un archivo CSS llamado, digamos, `ubuntu-mono.css`:

```css
@import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

.remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
```

Ahora, ajusta la opción `css` en los metadatos del YAML:

```yaml
output:
  xaringan::moon_reader:
    css: ["default", "ubuntu-mono.css"]
```

Aquí estoy assumiendo que el archivo `ubuntu-mono.css` está en el mismo directorio que tu Rmd.

Mira [yihui/xaringan#83](https://github.com/yihui/xaringan/issues/83) (en inglés) para un ejemplo de cómo usar la fuente [Fira Code](https://github.com/tonsky/FiraCode), que soporta ligaduras en código de programa.

---

# Temas

No quieres aprender CSS? Bueno, puedes usar algunos temas contribuidos por usuaries. Un tema normalmente consiste en dos archivos CSS `foo.css` y `foo-fonts.css`, donde `foo` es el nombre del tema. Abajo encontrarás algunos de los temas existentes:

```{r, R.options=list(width = 70)}
names(xaringan:::list_css())
```

---

# Temas

Para usar un tema, puedes especificar la opción `css` como un vector con los nombres de los archivos CSS (sin usar la extensión `.css`). Por ejemplo:

```yaml
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts]
```

Si quieres contribuir a **xaringan** con un tema, por favor lee [esta entrada del blog](https://yihui.org/en/2017/10/xaringan-themes) (en inglés).

---
class: inverse, middle, center
background-image: url(https://upload.wikimedia.org/wikipedia/commons/3/39/Naruto_Shiki_Fujin.svg)
background-size: contain

# Naruto

---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/b/be/Sharingan_triple.svg)
background-size: 100px
background-position: 90% 8%

# Sharingan

El nombre de este paquete de R, **xaringan**, se deriva de **Sharingan**<sup>1</sup>, un dōjutsu en el anime japonés _Naruto_ que tiene dos habilidades:

- el "Ojo de la Percepción"

- el "Ojo del Hipnotismo"

Creo que una presentación es básicamente una manera de comunicar percepciones a la audiencia y que una buena presentación puede incluso "hipnotizar" a la audiencia.<sup>2,3</sup>

.footnote[
[1] En chino, la pronunciación de _X_ es _Sh_ /ʃ/ (como en _Shakespeare_). Ahora deberías tener una mejor idea de cómo pronunciar mi apellido: _Xie_.

[2] En comparación, una mala presentación sólo pone a la audiencia a dormir.

[3] Personalmente, me parece que usar imágenes de fondo para una diapositiva es una de las funciones más impresionantes y útiles de remark.js. Es una manera efectiva de crear un impacto visual en tus presentaciones.
]

---

# Terminología Naruto

El paquete **xaringan** tomó prestados algunos términos de Naruto, por ejemplo:

- [Sharingan](https://naruto.fandom.com/wiki/Sharingan) (写輪眼; el nombre del paquete)

- El [moon reader (Tsukuyomi)](https://naruto.fandom.com/es/wiki/Tsukuyomi) (月読; un atractivo formato de salida de R Markdown)

- [Chakra](https://naruto.fandom.com/es/wiki/Chakra) (查克拉; ruta hacia la librería remark.js, que es el motor de la presentación)

- [Nature transformation (Transformación de la Naturaleza)](https://naruto.fandom.com/es/wiki/Transformaci%C3%B3n_de_la_Naturaleza) (性質変化; transforma el chakra mediante el ajuste de diferentes opciones)

- El [infinite moon reader (Tsukuyomi Infinito)](https://naruto.fandom.com/es/wiki/Tsukuyomi_Infinito_(Jutsu)) (無限月読; inicia un servidor web local para servir tus diapositivas continuamente)

- The [summoning technique (Jutsu de Invocación)](https://naruto.fandom.com/es/wiki/Jutsu_de_Invocaci%C3%B3n) (descargar remark.js de la web)

Puedes visitar los links para saber más sobre los términos. El jutsu "Moon Reader" puede parecer un poco maligno, pero eso no significa que tus diapositivas sean malignas.

---

class: center

# Sellos Manuales (印)

Presiona `h` o `?` para ver todos los posibles ninjutsu que puedes usar en remark.js.

![](https://upload.wikimedia.org/wikipedia/commons/7/7e/Mudra-Naruto-KageBunshin.svg)

---

class: center, middle

# Gracias!

Diapositivas creadas mediante el paquete de R [**xaringan**](https://github.com/yihui/xaringan).


El Chakra viene de [remark.js](https://remarkjs.com), [**knitr**](https://yihui.org/knitr/) y [R Markdown](https://rmarkdown.rstudio.com).

Esta plantilla fue traducida por [Silvia Canelón](https://silvia.rbind.io/), [Alejandra Hernandez Segura](https://alejandrahsegura.netlify.app/) y [Rocío Joo](https://rociojoo.github.io/).
